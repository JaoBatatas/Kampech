<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kampech</title>
    <link rel="stylesheet" href="/styles.css">
    <link rel="icon" href="/Kumpech_logo_noText.png">
</head>

<body>
    <header>
        <div class="headerLeft">
            <a href="/index.html" class="nome_logo"><img src="/Kumpech_logo_noText.png" alt="logo" class="logo">
                <h1>Kampech</h1>
            </a>

        </div>
        <div class="headerRight">
            <input type="text" placeholder="Buscar.." class="searchBar" id="headerSearchBar">
            <button onclick="searchBar_slide()" class="searchButton">
                <img src="/searchIcon.svg" alt="searchIcon" class="searchIcon">
            </button>
            <a href="#" class="accountIcon" onclick="handleAuthenticationResponse()">
                <img src="/accountIcon.svg" alt="accountIcon">
            </a>
            <a href="/cart.html" class="cartIcon">
                <img src="/cartIcon.svg" alt="cartIcon">
            </a>
        </div>
    </header>

    <main class="purchaseHistory">
        <div class="purchase__container1">
            <a href="/index.html">
                <img class="purchase__container1__backButton" src="/back_button.png" alt="back_button">
            </a>
            <h1 class="purchase__container1__title">Meus Dados</h1>
        </div>
        <div class="purchase__buttons">
            <a href="/personalInfo.html" class="purchase__buttons__text">Dados Pessoais -</a>
            <a href="/purchaseHistory.html" class="purchase__buttons__text"><strong>Histórico de Compras</strong></a>
        </div>


        <div class="searchContainer">
            <button class="search-button">
                <img src="/searchIcon.svg" class="search-icon">
            </button>
            <button class="clearButton" onclick="clearSearchBar()">
                <img src="/xIcon.svg" class="xIcon">
            </button>
            <input type="text" placeholder="Pesquise aqui" class="searchBar" id="purchaseSearchBar">
        </div>
        <div class="purchase__history">
            <table class="purchaseTable">
                <tr class="purchaseTableRow">
                    <th class="purchaseTableHeader">Pedido</th>
                    <th class="purchaseTableHeader">Quantidade de itens</th>
                    <th class="purchaseTableHeader">Data da compra</th>
                    <th class="purchaseTableHeader">Valor total</th>
                </tr>
                <tr class="purchaseTableRow">
                    <td class="purchaseTableCell">(Código do pedido)</td>
                    <td class="purchaseTableCell">(quantidade)</td>
                    <td class="purchaseTableCell">(data)</td>
                    <td class="purchaseTableCell">(valor)</td>
                </tr>
            </table>
        </div>
    </main>

    <script src="/index.js"></script>
    <script>
        fetch('/getPurchaseHistory')
            .then(response => response.json())
            .then(data => {
                // Aqui você pode manipular os dados e atualizar a tabela
                const table = document.querySelector('.purchaseTable');
                for (let i = 0; i < data.length; i++) {
                    const row = table.insertRow(-1);
                    const cell1 = row.insertCell(0);
                    const cell2 = row.insertCell(1);
                    const cell3 = row.insertCell(2);
                    const cell4 = row.insertCell(3);
                    cell1.innerHTML = data[i].pedido;
                    cell2.innerHTML = data[i].quantidade;
                    cell3.innerHTML = data[i].data;
                    cell4.innerHTML = data[i].valor;
                }
            });
    </script>
</body>

</html>