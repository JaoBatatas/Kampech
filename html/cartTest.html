<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kampech</title>
    <link rel="stylesheet" href="/styles.css">
    <link rel="icon" href="/Kumpech_logo_noText.png">
    <script src="/index.js"></script>
</head>

<body>
    <header>
        <div class="headerLeft">
            <a href="/index.html" class="nome_logo"><img src="/Kumpech_logo_noText.png" alt="logo"
                    class="logo">
                <h1>Kampech</h1>
            </a>

        </div>
        <div class="headerRight">
            <input type="text" placeholder="Buscar.." class="searchBar" id="headerSearchBar">
            <button onclick="searchBar_slide()" class="searchButton">
                <img src="/searchIcon.svg" alt="searchIcon" class="searchIcon">
            </button>
            <a href="/login.html" class="accountIcon">
                <img src="/accountIcon.svg" alt="accountIcon">
            </a>
            <button class="cartIcon" onclick="cartAnimation()">
                <img src="/cartIcon.svg" alt="cartIcon">
            </button>
        </div>
        <div class="cartPopUp">
            <button class="close_button" onclick="cartAnimation()">
                <img class="close_button__img" alt="close_button" src="/close_button.svg">
                <h4 class="close_button__title">Fechar</h4>
            </button>
            <div class="cartPopUp__item" id="cartItem1">
                <div class="cartPopUp__item__left">
                    <img class="cartPopUp__item__left__img" src="/keyboardExample.png">
                </div>
                <div class="cartPopUp__item__right">
                    <h1 class="cartPopUp__item__right__title">Teclado Mecânico</h1>
                    <h2 class="cartPopUp__item__right__desc">Descrição simples</h2>
                    <div class="cartPopUp__item__right__bottom">
                        <input class="quantity" id="quantity1" type="number" name="quantity" min="0" value="1">
                        <h1 class="cartPopUp__item__right__bottom__price" id="cartPrice1">696,90</h1>
                    </div>
                </div>
            </div>
            <div class="cartPopUp__item2" id="cartItem2">
                <div class="cartPopUp__item__left">
                    <img class="cartPopUp__item__left__img" src="/keyboardExample.png">
                </div>
                <div class="cartPopUp__item__right">
                    <h1 class="cartPopUp__item__right__title">Teclado Mecânico</h1>
                    <h2 class="cartPopUp__item__right__desc">Descrição simples</h2>
                    <div class="cartPopUp__item__right__bottom">
                        <input class="quantity" id="quantity2" type="number" name="quantity" min="0" value="1">
                        <h1 class="cartPopUp__item__right__bottom__price" id="cartPrice2">696,90</h1>
                    </div>
                </div>
            </div>
            <hr style="border: 1px solid black; width: 90%; align-self: center; margin-top: 10%;">
            <div class="cartPopUp__priceContainer">
                <h2>Total</h2>
                <h2 id="cartTotal">R$696,90</h2>
            </div>
            <a id="finishCart" href="">
                <p>Finalizar<br>pedido</p>
            </a>
            <p id="finePrint">*taxas calculadas na finalização da compra</p>
        </div>

        <script>
            // Função para calcular o preço total do carrinho
            function calcularTotal() {
              let total = 0;
              let quantity1 = parseInt(document.getElementById("quantity1").value);
              let price1 = parseFloat(document.getElementById("cartPrice1").innerHTML.replace(",", "."));
              let quantity2 = parseInt(document.getElementById("quantity2").value);
              let price2 = parseFloat(document.getElementById("cartPrice2").innerHTML.replace(",", "."));
          
              total = (quantity1 * price1) + (quantity2 * price2);
          
              // Atualiza o preço total do carrinho
              document.getElementById("cartTotal").innerHTML = "R$" + total.toFixed(2).replace(".", ",");
          
              // Ou você pode usar a seguinte linha para atualizar diretamente o elemento de preço total:
              // document.getElementById("cartTotal").textContent = "R$" + total.toFixed(2).replace(".", ",");
          
              // Verifica se a quantidade é zero e remove o item do carrinho
              if (quantity1 === 0) {
                document.getElementById("cartItem1").remove();
              }
              if (quantity2 === 0) {
                document.getElementById("cartItem2").remove();
              }
            }
          
            // Adiciona um ouvinte de eventos para cada campo de quantidade
            let quantities = document.getElementsByClassName("quantity");
            for (let i = 0; i < quantities.length; i++) {
              quantities[i].addEventListener("change", calcularTotal);
            }
          </script>
          
          
    </header>

    <main>
    </main>

    <footer>
    </footer>


</body>

</html>